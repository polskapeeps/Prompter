<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Image Prompt Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .nsfw-toggle:checked + .toggle-slider {
            background-color: #ec4899;
        }
        .toggle-slider {
            transition: all 0.3s ease;
        }
        textarea {
            resize: none;
        }
        .category-section {
            transition: all 0.3s ease;
        }
        .category-section.collapsed {
            max-height: 40px;
            overflow: hidden;
        }
        .tag {
            display: inline-flex;
            align-items: center;
            background-color: #e0e7ff;
            color: #4f46e5;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }
        .tag-remove {
            margin-left: 0.5rem;
            cursor: pointer;
            color: #6366f1;
        }
        .suggestions-container {
            position: relative;
        }
        .suggestions-dropdown {
            position: absolute;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            z-index: 10;
            display: none;
        }
        .suggestion-item {
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .suggestion-item:hover {
            background-color: #f3f4f6;
        }
        .creative-mode {
            background-color: #fef3c7;
            border-left: 4px solid #f59e0b;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-5xl">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <!-- Header -->
            <div class="bg-gradient-to-r from-purple-600 to-blue-500 p-6 text-white">
                <h1 class="text-3xl font-bold">Advanced Image Prompt Builder</h1>
                <p class="opacity-90">Create highly detailed AI image generation prompts with auto-suggestions</p>
            </div>
            
            <!-- Main Form -->
            <div class="p-6">
                <!-- NSFW Toggle -->
                <div class="flex items-center justify-between mb-6">
                    <div class="flex items-center">
                        <label class="flex items-center cursor-pointer">
                            <div class="relative">
                                <input type="checkbox" id="nsfwToggle" class="sr-only nsfw-toggle">
                                <div class="toggle-slider block bg-gray-300 w-14 h-8 rounded-full"></div>
                                <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
                            </div>
                            <div class="ml-3 text-gray-700 font-medium">
                                NSFW Mode
                            </div>
                        </label>
                    </div>
                    <div class="flex items-center">
                        <label class="flex items-center cursor-pointer">
                            <div class="relative">
                                <input type="checkbox" id="creativeToggle" class="sr-only">
                                <div class="toggle-slider block bg-gray-300 w-14 h-8 rounded-full"></div>
                                <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"></div>
                            </div>
                            <div class="ml-3 text-gray-700 font-medium">
                                Creative Mode
                            </div>
                        </label>
                    </div>
                </div>
                
                <!-- Subject with Auto-Suggest -->
                <div class="mb-6">
                    <label for="subject" class="block text-gray-700 font-medium mb-2">Main Subject *</label>
                    <div class="suggestions-container">
                        <input type="text" id="subject" placeholder="e.g. a beautiful woman, a futuristic robot, a mystical creature" 
                               class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                               oninput="showSubjectSuggestions(this.value)">
                        <div id="subject-suggestions" class="suggestions-dropdown"></div>
                    </div>
                    <p class="text-sm text-gray-500 mt-1">Describe the main focus of your image in detail</p>
                </div>
                
                <!-- Quick Tags -->
                <div class="mb-6">
                    <label class="block text-gray-700 font-medium mb-2">Quick Tags</label>
                    <div class="flex flex-wrap gap-2 mb-2">
                        <button onclick="addTag('intricate details')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">intricate details</button>
                        <button onclick="addTag('hyper realistic')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">hyper realistic</button>
                        <button onclick="addTag('cinematic lighting')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">cinematic lighting</button>
                        <button onclick="addTag('8k resolution')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">8k resolution</button>
                        <button onclick="addTag('dramatic shadows')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">dramatic shadows</button>
                        <button onclick="addTag('volumetric lighting')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">volumetric lighting</button>
                        <button onclick="addTag('photorealistic')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">photorealistic</button>
                        <button onclick="addTag('studio quality')" class="tag-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200">studio quality</button>
                    </div>
                    <div id="tags-container" class="flex flex-wrap items-center mt-2 p-2 border border-gray-200 rounded-lg min-h-12">
                        <!-- Tags will appear here -->
                    </div>
                    <div class="mt-2 flex">
                        <div class="suggestions-container flex-1">
                            <input type="text" id="customTag" placeholder="Add custom tag" 
                                   class="w-full px-3 py-1 border border-gray-300 rounded-l-lg text-sm"
                                   oninput="showTagSuggestions(this.value)">
                            <div id="tag-suggestions" class="suggestions-dropdown"></div>
                        </div>
                        <button onclick="addCustomTag()" class="px-3 py-1 bg-blue-500 text-white rounded-r-lg text-sm hover:bg-blue-600">Add</button>
                    </div>
                </div>
                
                <!-- Prompt Sections -->
                <div class="space-y-6">
                    <!-- Appearance Section -->
                    <div class="category-section border border-gray-200 rounded-lg overflow-hidden">
                        <div class="flex justify-between items-center bg-gray-50 p-4 cursor-pointer" onclick="toggleSection('appearance')">
                            <h3 class="font-medium text-gray-700"><i class="fas fa-eye mr-2"></i>Appearance Details</h3>
                            <i class="fas fa-chevron-down transition-transform" id="appearance-chevron"></i>
                        </div>
                        <div class="p-4" id="appearance-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-600 mb-1">Hair</label>
                                    <select id="hair" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select hair style</option>
                                        <option value="long flowing hair">Long flowing hair</option>
                                        <option value="short cropped hair">Short cropped hair</option>
                                        <option value="shoulder-length hair">Shoulder-length hair</option>
                                        <option value="bald">Bald</option>
                                        <option value="curly hair">Curly hair</option>
                                        <option value="wavy hair">Wavy hair</option>
                                        <option value="straight hair">Straight hair</option>
                                        <option value="braided hair">Braided hair</option>
                                        <option value="ponytail">Ponytail</option>
                                        <option value="bun">Bun</option>
                                        <option value="undercut">Undercut</option>
                                        <option value="mohawk">Mohawk</option>
                                        <option value="dreadlocks">Dreadlocks</option>
                                        <option value="afro">Afro</option>
                                        <option value="bob cut">Bob cut</option>
                                        <option value="pixie cut">Pixie cut</option>
                                    </select>
                                    <input type="text" id="hairColor" class="w-full px-3 py-2 border border-gray-300 rounded mt-2" placeholder="hair color (e.g. platinum blonde, jet black)">
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Eyes</label>
                                    <select id="eyes" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select eye type</option>
                                        <option value="almond-shaped eyes">Almond-shaped eyes</option>
                                        <option value="round eyes">Round eyes</option>
                                        <option value="hooded eyes">Hooded eyes</option>
                                        <option value="deep-set eyes">Deep-set eyes</option>
                                        <option value="monolid eyes">Monolid eyes</option>
                                        <option value="downturned eyes">Downturned eyes</option>
                                        <option value="upturned eyes">Upturned eyes</option>
                                        <option value="wide-set eyes">Wide-set eyes</option>
                                        <option value="close-set eyes">Close-set eyes</option>
                                    </select>
                                    <input type="text" id="eyeColor" class="w-full px-3 py-2 border border-gray-300 rounded mt-2" placeholder="eye color (e.g. emerald green, sapphire blue)">
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Body Type</label>
                                    <select id="bodyType" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select body type</option>
                                        <option value="slim">Slim</option>
                                        <option value="athletic">Athletic</option>
                                        <option value="muscular">Muscular</option>
                                        <option value="curvy">Curvy</option>
                                        <option value="voluptuous">Voluptuous</option>
                                        <option value="petite">Petite</option>
                                        <option value="tall">Tall</option>
                                        <option value="short">Short</option>
                                        <option value="average build">Average build</option>
                                        <option value="plus-size">Plus-size</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Clothing Style</label>
                                    <select id="clothing" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select clothing style</option>
                                        <option value="formal wear">Formal wear</option>
                                        <option value="casual wear">Casual wear</option>
                                        <option value="sportswear">Sportswear</option>
                                        <option value="business attire">Business attire</option>
                                        <option value="evening gown">Evening gown</option>
                                        <option value="swimsuit">Swimsuit</option>
                                        <option value="lingerie">Lingerie</option>
                                        <option value="fantasy armor">Fantasy armor</option>
                                        <option value="sci-fi suit">Sci-fi suit</option>
                                        <option value="historical costume">Historical costume</option>
                                        <option value="traditional clothing">Traditional clothing</option>
                                        <option value="streetwear">Streetwear</option>
                                        <option value="gothic fashion">Gothic fashion</option>
                                        <option value="punk fashion">Punk fashion</option>
                                        <option value="bohemian style">Bohemian style</option>
                                    </select>
                                    <input type="text" id="clothingColor" class="w-full px-3 py-2 border border-gray-300 rounded mt-2" placeholder="clothing color (e.g. crimson red, midnight blue)">
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Skin</label>
                                    <select id="skin" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select skin type</option>
                                        <option value="porcelain skin">Porcelain skin</option>
                                        <option value="fair skin">Fair skin</option>
                                        <option value="olive skin">Olive skin</option>
                                        <option value="tan skin">Tan skin</option>
                                        <option value="bronze skin">Bronze skin</option>
                                        <option value="dark skin">Dark skin</option>
                                        <option value="ebony skin">Ebony skin</option>
                                        <option value="flawless skin">Flawless skin</option>
                                        <option value="freckled skin">Freckled skin</option>
                                        <option value="scarred skin">Scarred skin</option>
                                        <option value="tattooed skin">Tattooed skin</option>
                                        <option value="glowing skin">Glowing skin</option>
                                        <option value="metallic skin">Metallic skin</option>
                                        <option value="scaly skin">Scaly skin</option>
                                        <option value="translucent skin">Translucent skin</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Accessories</label>
                                    <select id="accessories" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select accessories</option>
                                        <option value="jewelry">Jewelry</option>
                                        <option value="weapons">Weapons</option>
                                        <option value="tools">Tools</option>
                                        <option value="glasses">Glasses</option>
                                        <option value="hat">Hat</option>
                                        <option value="scarf">Scarf</option>
                                        <option value="belt">Belt</option>
                                        <option value="gloves">Gloves</option>
                                        <option value="cape">Cape</option>
                                        <option value="crown">Crown</option>
                                        <option value="tiara">Tiara</option>
                                        <option value="necklace">Necklace</option>
                                        <option value="earrings">Earrings</option>
                                        <option value="bracelet">Bracelet</option>
                                        <option value="ring">Ring</option>
                                        <option value="piercings">Piercings</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-gray-600 mb-1">Additional Appearance Details</label>
                                <textarea id="appearanceExtra" class="w-full px-3 py-2 border border-gray-300 rounded" rows="2" placeholder="scars, tattoos, unique features, etc"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Pose & Expression Section -->
                    <div class="category-section border border-gray-200 rounded-lg overflow-hidden">
                        <div class="flex justify-between items-center bg-gray-50 p-4 cursor-pointer" onclick="toggleSection('pose')">
                            <h3 class="font-medium text-gray-700"><i class="fas fa-running mr-2"></i>Pose & Expression</h3>
                            <i class="fas fa-chevron-down transition-transform" id="pose-chevron"></i>
                        </div>
                        <div class="p-4" id="pose-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-600 mb-1">Pose Type</label>
                                    <select id="poseType" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select pose</option>
                                        <option value="standing">Standing</option>
                                        <option value="sitting">Sitting</option>
                                        <option value="lying down">Lying Down</option>
                                        <option value="walking">Walking</option>
                                        <option value="running">Running</option>
                                        <option value="jumping">Jumping</option>
                                        <option value="dancing">Dancing</option>
                                        <option value="fighting">Fighting</option>
                                        <option value="flying">Flying</option>
                                        <option value="kneeling">Kneeling</option>
                                        <option value="crouching">Crouching</option>
                                        <option value="leaning">Leaning</option>
                                        <option value="bending">Bending</option>
                                        <option value="stretching">Stretching</option>
                                        <option value="yoga pose">Yoga pose</option>
                                        <option value="action pose">Action pose</option>
                                        <option value="dynamic pose">Dynamic pose</option>
                                        <option value="relaxed pose">Relaxed pose</option>
                                        <option value="power pose">Power pose</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Facial Expression</label>
                                    <select id="expression" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select expression</option>
                                        <option value="happy">Happy</option>
                                        <option value="sad">Sad</option>
                                        <option value="angry">Angry</option>
                                        <option value="surprised">Surprised</option>
                                        <option value="neutral">Neutral</option>
                                        <option value="smirking">Smirking</option>
                                        <option value="seductive">Seductive</option>
                                        <option value="determined">Determined</option>
                                        <option value="fearful">Fearful</option>
                                        <option value="confident">Confident</option>
                                        <option value="shy">Shy</option>
                                        <option value="mischievous">Mischievous</option>
                                        <option value="pensive">Pensive</option>
                                        <option value="serene">Serene</option>
                                        <option value="intense">Intense</option>
                                        <option value="playful">Playful</option>
                                        <option value="flirtatious">Flirtatious</option>
                                        <option value="mysterious">Mysterious</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Body Language</label>
                                    <select id="bodyLanguage" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select body language</option>
                                        <option value="confident">Confident</option>
                                        <option value="shy">Shy</option>
                                        <option value="aggressive">Aggressive</option>
                                        <option value="relaxed">Relaxed</option>
                                        <option value="tense">Tense</option>
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                        <option value="powerful">Powerful</option>
                                        <option value="submissive">Submissive</option>
                                        <option value="inviting">Inviting</option>
                                        <option value="defensive">Defensive</option>
                                        <option value="energetic">Energetic</option>
                                        <option value="exhausted">Exhausted</option>
                                        <option value="graceful">Graceful</option>
                                        <option value="awkward">Awkward</option>
                                        <option value="seductive">Seductive</option>
                                        <option value="intimidating">Intimidating</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Hand Gestures</label>
                                    <select id="gestures" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select gesture</option>
                                        <option value="waving">Waving</option>
                                        <option value="pointing">Pointing</option>
                                        <option value="holding something">Holding something</option>
                                        <option value="hands on hips">Hands on hips</option>
                                        <option value="arms crossed">Arms crossed</option>
                                        <option value="hands behind back">Hands behind back</option>
                                        <option value="hands in pockets">Hands in pockets</option>
                                        <option value="hands clasped">Hands clasped</option>
                                        <option value="hands folded">Hands folded</option>
                                        <option value="hand on chin">Hand on chin</option>
                                        <option value="hand on face">Hand on face</option>
                                        <option value="hand on heart">Hand on heart</option>
                                        <option value="thumbs up">Thumbs up</option>
                                        <option value="peace sign">Peace sign</option>
                                        <option value="victory sign">Victory sign</option>
                                        <option value="beckoning">Beckoning</option>
                                        <option value="counting">Counting</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-gray-600 mb-1">Additional Pose Details</label>
                                <textarea id="poseExtra" class="w-full px-3 py-2 border border-gray-300 rounded" rows="2" placeholder="dynamic angles, interaction with environment, etc"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Setting Section -->
                    <div class="category-section border border-gray-200 rounded-lg overflow-hidden">
                        <div class="flex justify-between items-center bg-gray-50 p-4 cursor-pointer" onclick="toggleSection('setting')">
                            <h3 class="font-medium text-gray-700"><i class="fas fa-map-marked-alt mr-2"></i>Environment & Setting</h3>
                            <i class="fas fa-chevron-down transition-transform" id="setting-chevron"></i>
                        </div>
                        <div class="p-4" id="setting-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-600 mb-1">Location Type</label>
                                    <select id="locationType" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select location</option>
                                        <option value="indoor">Indoor</option>
                                        <option value="outdoor">Outdoor</option>
                                        <option value="urban">Urban</option>
                                        <option value="natural">Natural</option>
                                        <option value="fantasy">Fantasy</option>
                                        <option value="sci-fi">Sci-Fi</option>
                                        <option value="underwater">Underwater</option>
                                        <option value="space">Space</option>
                                        <option value="post-apocalyptic">Post-apocalyptic</option>
                                        <option value="historical">Historical</option>
                                        <option value="futuristic">Futuristic</option>
                                        <option value="surreal">Surreal</option>
                                        <option value="abstract">Abstract</option>
                                        <option value="minimalist">Minimalist</option>
                                        <option value="crowded">Crowded</option>
                                        <option value="isolated">Isolated</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Specific Location</label>
                                    <select id="specificLocation" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select specific location</option>
                                        <option value="forest">Forest</option>
                                        <option value="city street">City street</option>
                                        <option value="spaceship">Spaceship</option>
                                        <option value="beach">Beach</option>
                                        <option value="mountains">Mountains</option>
                                        <option value="desert">Desert</option>
                                        <option value="castle">Castle</option>
                                        <option value="library">Library</option>
                                        <option value="laboratory">Laboratory</option>
                                        <option value="bedroom">Bedroom</option>
                                        <option value="living room">Living room</option>
                                        <option value="kitchen">Kitchen</option>
                                        <option value="bathroom">Bathroom</option>
                                        <option value="office">Office</option>
                                        <option value="classroom">Classroom</option>
                                        <option value="restaurant">Restaurant</option>
                                        <option value="bar">Bar</option>
                                        <option value="club">Club</option>
                                        <option value="gym">Gym</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Time of Day</label>
                                    <select id="timeOfDay" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select time</option>
                                        <option value="daytime">Daytime</option>
                                        <option value="sunset">Sunset</option>
                                        <option value="night">Night</option>
                                        <option value="dawn">Dawn</option>
                                        <option value="midnight">Midnight</option>
                                        <option value="golden hour">Golden hour</option>
                                        <option value="blue hour">Blue hour</option>
                                        <option value="twilight">Twilight</option>
                                        <option value="eternal daylight">Eternal daylight</option>
                                        <option value="eternal night">Eternal night</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Weather</label>
                                    <select id="weather" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select weather</option>
                                        <option value="sunny">Sunny</option>
                                        <option value="cloudy">Cloudy</option>
                                        <option value="rainy">Rainy</option>
                                        <option value="stormy">Stormy</option>
                                        <option value="foggy">Foggy</option>
                                        <option value="snowy">Snowy</option>
                                        <option value="windy">Windy</option>
                                        <option value="hazy">Hazy</option>
                                        <option value="misty">Misty</option>
                                        <option value="overcast">Overcast</option>
                                        <option value="partly cloudy">Partly cloudy</option>
                                        <option value="thunderstorm">Thunderstorm</option>
                                        <option value="hurricane">Hurricane</option>
                                        <option value="tornado">Tornado</option>
                                        <option value="sandstorm">Sandstorm</option>
                                        <option value="apocalyptic weather">Apocalyptic weather</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Lighting</label>
                                    <select id="lighting" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select lighting</option>
                                        <option value="natural light">Natural Light</option>
                                        <option value="studio light">Studio Light</option>
                                        <option value="neon lights">Neon Lights</option>
                                        <option value="candlelight">Candlelight</option>
                                        <option value="firelight">Firelight</option>
                                        <option value="bioluminescent">Bioluminescent</option>
                                        <option value="moonlight">Moonlight</option>
                                        <option value="starlight">Starlight</option>
                                        <option value="spotlight">Spotlight</option>
                                        <option value="backlight">Backlight</option>
                                        <option value="rim light">Rim light</option>
                                        <option value="glow">Glow</option>
                                        <option value="ambient light">Ambient light</option>
                                        <option value="dramatic lighting">Dramatic lighting</option>
                                        <option value="moody lighting">Moody lighting</option>
                                        <option value="cinematic lighting">Cinematic lighting</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Atmosphere</label>
                                    <select id="atmosphere" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select atmosphere</option>
                                        <option value="mysterious">Mysterious</option>
                                        <option value="cheerful">Cheerful</option>
                                        <option value="dystopian">Dystopian</option>
                                        <option value="romantic">Romantic</option>
                                        <option value="tense">Tense</option>
                                        <option value="peaceful">Peaceful</option>
                                        <option value="chaotic">Chaotic</option>
                                        <option value="magical">Magical</option>
                                        <option value="futuristic">Futuristic</option>
                                        <option value="nostalgic">Nostalgic</option>
                                        <option value="ominous">Ominous</option>
                                        <option value="hopeful">Hopeful</option>
                                        <option value="dreamy">Dreamy</option>
                                        <option value="surreal">Surreal</option>
                                        <option value="whimsical">Whimsical</option>
                                        <option value="gritty">Gritty</option>
                                        <option value="elegant">Elegant</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-gray-600 mb-1">Additional Setting Details</label>
                                <textarea id="settingExtra" class="w-full px-3 py-2 border border-gray-300 rounded" rows="2" placeholder="background elements, props, architectural details"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- NSFW Section (hidden by default) -->
                    <div id="nsfwSection" class="category-section border border-gray-200 rounded-lg overflow-hidden hidden">
                        <div class="flex justify-between items-center bg-pink-50 p-4 cursor-pointer" onclick="toggleSection('nsfw')">
                            <h3 class="font-medium text-pink-700"><i class="fas fa-exclamation-triangle mr-2"></i>NSFW Details</h3>
                            <i class="fas fa-chevron-down transition-transform" id="nsfw-chevron"></i>
                        </div>
                        <div class="p-4" id="nsfw-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-600 mb-1">Nudity Level</label>
                                    <select id="nudityLevel" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select level</option>
                                        <option value="partial nudity">Partial Nudity</option>
                                        <option value="topless">Topless</option>
                                        <option value="bottomless">Bottomless</option>
                                        <option value="fully nude">Fully Nude</option>
                                        <option value="implied nudity">Implied Nudity</option>
                                        <option value="covered nudity">Covered Nudity</option>
                                        <option value="artistic nudity">Artistic Nudity</option>
                                        <option value="suggestive clothing">Suggestive Clothing</option>
                                        <option value="revealing clothing">Revealing Clothing</option>
                                        <option value="wet clothing">Wet Clothing</option>
                                        <option value="see-through clothing">See-through Clothing</option>
                                        <option value="lingerie">Lingerie</option>
                                        <option value="bikini">Bikini</option>
                                        <option value="swimsuit">Swimsuit</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Pose Type</label>
                                    <select id="nsfwPose" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select pose</option>
                                        <option value="suggestive pose">Suggestive Pose</option>
                                        <option value="provocative pose">Provocative Pose</option>
                                        <option value="explicit pose">Explicit Pose</option>
                                        <option value="sensual pose">Sensual Pose</option>
                                        <option value="erotic pose">Erotic Pose</option>
                                        <option value="seductive pose">Seductive Pose</option>
                                        <option value="inviting pose">Inviting Pose</option>
                                        <option value="submissive pose">Submissive Pose</option>
                                        <option value="dominant pose">Dominant Pose</option>
                                        <option value="bending over">Bending Over</option>
                                        <option value="lying down">Lying Down</option>
                                        <option value="kneeling">Kneeling</option>
                                        <option value="spread legs">Spread Legs</option>
                                        <option value="covering self">Covering Self</option>
                                        <option value="touching self">Touching Self</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Focus Area</label>
                                    <select id="focusArea" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select focus area</option>
                                        <option value="breasts">Breasts</option>
                                        <option value="buttocks">Buttocks</option>
                                        <option value="full body">Full Body</option>
                                        <option value="face">Face</option>
                                        <option value="legs">Legs</option>
                                        <option value="back">Back</option>
                                        <option value="chest">Chest</option>
                                        <option value="waist">Waist</option>
                                        <option value="hips">Hips</option>
                                        <option value="thighs">Thighs</option>
                                        <option value="genital area">Genital Area</option>
                                        <option value="cleavage">Cleavage</option>
                                        <option value="midriff">Midriff</option>
                                        <option value="shoulders">Shoulders</option>
                                        <option value="neck">Neck</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Interaction</label>
                                    <select id="interaction" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select interaction</option>
                                        <option value="touching self">Touching Self</option>
                                        <option value="with partner">With Partner</option>
                                        <option value="with multiple partners">With Multiple Partners</option>
                                        <option value="with object">With Object</option>
                                        <option value="with clothing">With Clothing</option>
                                        <option value="with environment">With Environment</option>
                                        <option value="none">None</option>
                                        <option value="suggestive interaction">Suggestive Interaction</option>
                                        <option value="explicit interaction">Explicit Interaction</option>
                                        <option value="sensual interaction">Sensual Interaction</option>
                                        <option value="erotic interaction">Erotic Interaction</option>
                                        <option value="foreplay">Foreplay</option>
                                        <option value="afterglow">Afterglow</option>
                                        <option value="intimate moment">Intimate Moment</option>
                                        <option value="passionate embrace">Passionate Embrace</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-gray-600 mb-1">Additional NSFW Details</label>
                                <textarea id="nsfwExtra" class="w-full px-3 py-2 border border-gray-300 rounded" rows="2" placeholder="specific details, fetishes, kinks, etc"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Style Section -->
                    <div class="category-section border border-gray-200 rounded-lg overflow-hidden">
                        <div class="flex justify-between items-center bg-gray-50 p-4 cursor-pointer" onclick="toggleSection('style')">
                            <h3 class="font-medium text-gray-700"><i class="fas fa-paint-brush mr-2"></i>Art Style & Composition</h3>
                            <i class="fas fa-chevron-down transition-transform" id="style-chevron"></i>
                        </div>
                        <div class="p-4" id="style-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-600 mb-1">Art Style</label>
                                    <select id="artStyle" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select style</option>
                                        <option value="realistic">Realistic</option>
                                        <option value="hyperrealistic">Hyperrealistic</option>
                                        <option value="semi-realistic">Semi-Realistic</option>
                                        <option value="anime">Anime</option>
                                        <option value="manga">Manga</option>
                                        <option value="cartoon">Cartoon</option>
                                        <option value="painting">Painting</option>
                                        <option value="oil painting">Oil Painting</option>
                                        <option value="watercolor">Watercolor</option>
                                        <option value="digital art">Digital Art</option>
                                        <option value="concept art">Concept Art</option>
                                        <option value="fantasy art">Fantasy Art</option>
                                        <option value="cyberpunk">Cyberpunk</option>
                                        <option value="steampunk">Steampunk</option>
                                        <option value="pixel art">Pixel Art</option>
                                        <option value="vector art">Vector Art</option>
                                        <option value="low poly">Low Poly</option>
                                        <option value="cel-shaded">Cel-shaded</option>
                                        <option value="impressionist">Impressionist</option>
                                        <option value="surrealist">Surrealist</option>
                                        <option value="abstract">Abstract</option>
                                        <option value="minimalist">Minimalist</option>
                                        <option value="vintage">Vintage</option>
                                        <option value="retro">Retro</option>
                                        <option value="futuristic">Futuristic</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Artist/Reference</label>
                                    <select id="artistReference" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select artist/reference</option>
                                        <option value="Greg Rutkowski">Greg Rutkowski</option>
                                        <option value="Alphonse Mucha">Alphonse Mucha</option>
                                        <option value="H.R. Giger">H.R. Giger</option>
                                        <option value="Boris Vallejo">Boris Vallejo</option>
                                        <option value="Julie Bell">Julie Bell</option>
                                        <option value="Frank Frazetta">Frank Frazetta</option>
                                        <option value="Yoshitaka Amano">Yoshitaka Amano</option>
                                        <option value="Akihiko Yoshida">Akihiko Yoshida</option>
                                        <option value="Katsuya Terada">Katsuya Terada</option>
                                        <option value="Simon Stålenhag">Simon Stålenhag</option>
                                        <option value="Moebius">Moebius</option>
                                        <option value="Hayao Miyazaki">Hayao Miyazaki</option>
                                        <option value="Studio Ghibli">Studio Ghibli</option>
                                        <option value="Disney">Disney</option>
                                        <option value="Pixar">Pixar</option>
                                        <option value="ArtStation">ArtStation</option>
                                        <option value="DeviantArt">DeviantArt</option>
                                        <option value="Pinterest">Pinterest</option>
                                        <option value="Instagram">Instagram</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Color Palette</label>
                                    <select id="colorPalette" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select palette</option>
                                        <option value="warm tones">Warm tones</option>
                                        <option value="cool colors">Cool colors</option>
                                        <option value="monochrome">Monochrome</option>
                                        <option value="pastel">Pastel</option>
                                        <option value="vibrant">Vibrant</option>
                                        <option value="muted">Muted</option>
                                        <option value="dark">Dark</option>
                                        <option value="light">Light</option>
                                        <option value="high contrast">High contrast</option>
                                        <option value="low contrast">Low contrast</option>
                                        <option value="complementary">Complementary</option>
                                        <option value="analogous">Analogous</option>
                                        <option value="triadic">Triadic</option>
                                        <option value="tetradic">Tetradic</option>
                                        <option value="rainbow">Rainbow</option>
                                        <option value="earth tones">Earth tones</option>
                                        <option value="neon">Neon</option>
                                        <option value="metallic">Metallic</option>
                                        <option value="gradient">Gradient</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Texture</label>
                                    <select id="texture" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select texture</option>
                                        <option value="smooth">Smooth</option>
                                        <option value="rough">Rough</option>
                                        <option value="metallic">Metallic</option>
                                        <option value="glossy">Glossy</option>
                                        <option value="matte">Matte</option>
                                        <option value="gritty">Gritty</option>
                                        <option value="soft">Soft</option>
                                        <option value="hard">Hard</option>
                                        <option value="fuzzy">Fuzzy</option>
                                        <option value="velvety">Velvety</option>
                                        <option value="leathery">Leathery</option>
                                        <option value="wooden">Wooden</option>
                                        <option value="stone">Stone</option>
                                        <option value="watery">Watery</option>
                                        <option value="glassy">Glassy</option>
                                        <option value="crystalline">Crystalline</option>
                                        <option value="fabric">Fabric</option>
                                        <option value="paper">Paper</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label class="block text-gray-600 mb-1">Additional Style Details</label>
                                <textarea id="styleExtra" class="w-full px-3 py-2 border border-gray-300 rounded" rows="2" placeholder="brush strokes, rendering quality, special effects"></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Technical Section -->
                    <div class="category-section border border-gray-200 rounded-lg overflow-hidden">
                        <div class="flex justify-between items-center bg-gray-50 p-4 cursor-pointer" onclick="toggleSection('technical')">
                            <h3 class="font-medium text-gray-700"><i class="fas fa-cogs mr-2"></i>Technical Specifications</h3>
                            <i class="fas fa-chevron-down transition-transform" id="technical-chevron"></i>
                        </div>
                        <div class="p-4" id="technical-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-600 mb-1">Camera Angle</label>
                                    <select id="cameraAngle" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select angle</option>
                                        <option value="close-up">Close-up</option>
                                        <option value="medium shot">Medium Shot</option>
                                        <option value="full body">Full Body</option>
                                        <option value="low angle">Low Angle</option>
                                        <option value="high angle">High Angle</option>
                                        <option value="dutch angle">Dutch Angle</option>
                                        <option value="overhead shot">Overhead Shot</option>
                                        <option value="worm's-eye view">Worm's-eye View</option>
                                        <option value="bird's-eye view">Bird's-eye View</option>
                                        <option value="eye level">Eye Level</option>
                                        <option value="shoulder level">Shoulder Level</option>
                                        <option value="hip level">Hip Level</option>
                                        <option value="knee level">Knee Level</option>
                                        <option value="ground level">Ground Level</option>
                                        <option value="aerial view">Aerial View</option>
                                        <option value="macro">Macro</option>
                                        <option value="extreme close-up">Extreme Close-up</option>
                                        <option value="wide shot">Wide Shot</option>
                                        <option value="establishing shot">Establishing Shot</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Depth of Field</label>
                                    <select id="depthOfField" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select focus</option>
                                        <option value="sharp focus">Sharp Focus</option>
                                        <option value="soft focus">Soft Focus</option>
                                        <option value="shallow depth of field">Shallow Depth of Field</option>
                                        <option value="deep focus">Deep Focus</option>
                                        <option value="bokeh background">Bokeh Background</option>
                                        <option value="tilt-shift">Tilt-shift</option>
                                        <option value="selective focus">Selective Focus</option>
                                        <option value="rack focus">Rack Focus</option>
                                        <option value="split diopter">Split Diopter</option>
                                        <option value="hyperfocal distance">Hyperfocal Distance</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Resolution</label>
                                    <select id="resolution" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select resolution</option>
                                        <option value="4k">4K</option>
                                        <option value="8k">8K</option>
                                        <option value="ultra hd">Ultra HD</option>
                                        <option value="high resolution">High Resolution</option>
                                        <option value="photorealistic">Photorealistic</option>
                                        <option value="retina display">Retina Display</option>
                                        <option value="print quality">Print Quality</option>
                                        <option value="vector">Vector</option>
                                        <option value="lossless">Lossless</option>
                                        <option value="raw">RAW</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Aspect Ratio</label>
                                    <select id="aspectRatio" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select ratio</option>
                                        <option value="square (1:1)">Square (1:1)</option>
                                        <option value="portrait (2:3)">Portrait (2:3)</option>
                                        <option value="landscape (16:9)">Landscape (16:9)</option>
                                        <option value="widescreen (21:9)">Widescreen (21:9)</option>
                                        <option value="cinematic (2.35:1)">Cinematic (2.35:1)</option>
                                        <option value="instagram post (4:5)">Instagram Post (4:5)</option>
                                        <option value="instagram story (9:16)">Instagram Story (9:16)</option>
                                        <option value="facebook cover (16:9)">Facebook Cover (16:9)</option>
                                        <option value="twitter header (3:1)">Twitter Header (3:1)</option>
                                        <option value="youtube thumbnail (16:9)">YouTube Thumbnail (16:9)</option>
                                        <option value="pinterest (2:3)">Pinterest (2:3)</option>
                                        <option value="a4 paper (1:1.41)">A4 Paper (1:1.41)</option>
                                        <option value="golden ratio (1:1.618)">Golden Ratio (1:1.618)</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Film Type</label>
                                    <select id="filmType" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select film type</option>
                                        <option value="35mm film">35mm Film</option>
                                        <option value="polaroid">Polaroid</option>
                                        <option value="kodak portra">Kodak Portra</option>
                                        <option value="fuji film">Fuji Film</option>
                                        <option value="cinematic film">Cinematic Film</option>
                                        <option value="black and white">Black and White</option>
                                        <option value="sepia">Sepia</option>
                                        <option value="vintage film">Vintage Film</option>
                                        <option value="lomography">Lomography</option>
                                        <option value="slide film">Slide Film</option>
                                        <option value="infrared">Infrared</option>
                                        <option value="instant film">Instant Film</option>
                                        <option value="large format">Large Format</option>
                                        <option value="medium format">Medium Format</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-gray-600 mb-1">Lens Type</label>
                                    <select id="lensType" class="w-full px-3 py-2 border border-gray-300 rounded">
                                        <option value="">Select lens</option>
                                        <option value="50mm lens">50mm Lens</option>
                                        <option value="85mm lens">85mm Lens</option>
                                        <option value="wide angle lens">Wide Angle Lens</option>
                                        <option value="telephoto lens">Telephoto Lens</option>
                                        <option value="macro lens">Macro Lens</option>
                                        <option value="fisheye lens">Fisheye Lens</option>
                                        <option value="tilt-shift lens">Tilt-shift Lens</option>
                                        <option value="prime lens">Prime Lens</option>
                                        <option value="zoom lens">Zoom Lens</option>
                                        <option value="anamorphic lens">Anamorphic Lens</option>
                                        <option value="soft focus lens">Soft Focus Lens</option>
                                        <option value="mirror lens">Mirror Lens</option>
                                        <option value="cinema lens">Cinema Lens</option>
                                        <option value="vintage lens">Vintage Lens</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Generated Prompt -->
                <div class="mt-8">
                    <label class="block text-gray-700 font-medium mb-2">Generated Prompt</label>
                    <div class="relative">
                        <textarea id="generatedPrompt" rows="8" class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 font-mono text-sm" readonly></textarea>
                        <div class="absolute right-2 bottom-2 flex gap-2">
                            <button onclick="copyToClipboard()" class="bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600 transition flex items-center">
                                <i class="fas fa-copy mr-1"></i> Copy
                            </button>
                            <button onclick="savePrompt()" class="bg-green-500 text-white p-2 rounded-lg hover:bg-green-600 transition flex items-center">
                                <i class="fas fa-save mr-1"></i> Save
                            </button>
                            <button onclick="rewordPrompt()" class="bg-yellow-500 text-white p-2 rounded-lg hover:bg-yellow-600 transition flex items-center">
                                <i class="fas fa-wand-magic-sparkles mr-1"></i> Reword
                            </button>
                        </div>
                    </div>
                    <div class="mt-2 flex items-center text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>
                        <span id="charCount">0</span> characters
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="mt-6 flex flex-wrap gap-3">
                    <button onclick="generatePrompt()" class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition flex items-center">
                        <i class="fas fa-magic mr-2"></i> Generate Prompt
                    </button>
                    <button onclick="generateDetailedPrompt()" class="px-6 py-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition flex items-center">
                        <i class="fas fa-wand-magic-sparkles mr-2"></i> Detailed Prompt
                    </button>
                    <button onclick="resetForm()" class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition flex items-center">
                        <i class="fas fa-redo mr-2"></i> Reset
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Toggle NSFW section
        document.getElementById('nsfwToggle').addEventListener('change', function() {
            const nsfwSection = document.getElementById('nsfwSection');
            if(this.checked) {
                nsfwSection.classList.remove('hidden');
            } else {
                nsfwSection.classList.add('hidden');
            }
        });

        // Toggle Creative Mode
        document.getElementById('creativeToggle').addEventListener('change', function() {
            const promptTextarea = document.getElementById('generatedPrompt');
            if(this.checked) {
                promptTextarea.classList.add('creative-mode');
            } else {
                promptTextarea.classList.remove('creative-mode');
            }
        });

        // Toggle section collapse/expand
        function toggleSection(sectionId) {
            const content = document.getElementById(`${sectionId}-content`);
            const chevron = document.getElementById(`${sectionId}-chevron`);
            const section = content.parentElement;
            
            if(section.classList.contains('collapsed')) {
                section.classList.remove('collapsed');
                chevron.classList.remove('rotate-180');
                chevron.classList.add('rotate-0');
            } else {
                section.classList.add('collapsed');
                chevron.classList.remove('rotate-0');
                chevron.classList.add('rotate-180');
            }
        }

        // Tags functionality
        let tags = [];
        
        function addTag(tagText) {
            if (!tags.includes(tagText)) {
                tags.push(tagText);
                renderTags();
            }
        }
        
        function addCustomTag() {
            const tagInput = document.getElementById('customTag');
            const tagText = tagInput.value.trim();
            if (tagText && !tags.includes(tagText)) {
                tags.push(tagText);
                renderTags();
                tagInput.value = '';
                document.getElementById('tag-suggestions').style.display = 'none';
            }
        }
        
        function removeTag(index) {
            tags.splice(index, 1);
            renderTags();
        }
        
        function renderTags() {
            const container = document.getElementById('tags-container');
            container.innerHTML = '';
            
            tags.forEach((tag, index) => {
                const tagElement = document.createElement('div');
                tagElement.className = 'tag';
                tagElement.innerHTML = `
                    ${tag}
                    <span class="tag-remove" onclick="removeTag(${index})">
                        <i class="fas fa-times"></i>
                    </span>
                `;
                container.appendChild(tagElement);
            });
        }
        
        // Auto-suggestions for subject
        const subjectSuggestions = [
            "a beautiful woman", "a handsome man", "a futuristic robot", "a mystical creature",
            "a fantasy warrior", "a cyberpunk hacker", "a steampunk inventor", "a medieval knight",
            "a sci-fi astronaut", "a post-apocalyptic survivor", "a magical girl", "a superhero",
            "a villainous character", "a cute animal", "a mythical beast", "an alien being",
            "a historical figure", "a celebrity lookalike", "a cartoon character", "an anime character",
            "a video game character", "a movie character", "a book character", "an original character",
            "a pair of lovers", "a group of friends", "a family portrait", "a team of heroes",
            "a band of adventurers", "a squad of soldiers", "a gathering of wizards", "a council of elders"
        ];
        
        function showSubjectSuggestions(input) {
            const suggestionsContainer = document.getElementById('subject-suggestions');
            suggestionsContainer.innerHTML = '';
            
            if (input.length > 1) {
                const filtered = subjectSuggestions.filter(item =>
                    item.toLowerCase().includes(input.toLowerCase())
                );
                
                if (filtered.length > 0) {
                    filtered.forEach(item => {
                        const div = document.createElement('div');
                        div.className = 'suggestion-item';
                        div.textContent = item;
                        div.onclick = function() {
                            document.getElementById('subject').value = item;
                            suggestionsContainer.style.display = 'none';
                        };
                        suggestionsContainer.appendChild(div);
                    });
                    suggestionsContainer.style.display = 'block';
                } else {
                    suggestionsContainer.style.display = 'none';
                }
            } else {
                suggestionsContainer.style.display = 'none';
            }
        }
        
        // Auto-suggestions for tags
        const tagSuggestions = [
            "intricate details", "hyper realistic", "cinematic lighting", "8k resolution",
            "dramatic shadows", "volumetric lighting", "photorealistic", "studio quality",
            "highly detailed", "sharp focus", "professional photography", "stunning composition",
            "artstation trending", "concept art", "digital painting", "unreal engine",
            "octane render", "ray tracing", "global illumination", "HDR",
            "ultra HD", "4k textures", "dynamic pose", "symmetrical composition",
            "rule of thirds", "golden ratio", "depth of field", "bokeh effect",
            "film grain", "vintage look", "retro style", "nostalgic atmosphere",
            "dreamy aesthetic", "ethereal glow", "soft lighting", "moody tones",
            "high contrast", "vibrant colors", "pastel palette", "monochrome",
            "black and white", "sepia tone", "warm tones", "cool tones",
            "neon lights", "cyberpunk aesthetic", "steampunk style", "fantasy art",
            "sci-fi setting", "post-apocalyptic", "dystopian future", "utopian vision"
        ];
        
        function showTagSuggestions(input) {
            const suggestionsContainer = document.getElementById('tag-suggestions');
            suggestionsContainer.innerHTML = '';
            
            if (input.length > 1) {
                const filtered = tagSuggestions.filter(item =>
                    item.toLowerCase().includes(input.toLowerCase())
                );
                
                if (filtered.length > 0) {
                    filtered.forEach(item => {
                        const div = document.createElement('div');
                        div.className = 'suggestion-item';
                        div.textContent = item;
                        div.onclick = function() {
                            document.getElementById('customTag').value = item;
                            suggestionsContainer.style.display = 'none';
                        };
                        suggestionsContainer.appendChild(div);
                    });
                    suggestionsContainer.style.display = 'block';
                } else {
                    suggestionsContainer.style.display = 'none';
                }
            } else {
                suggestionsContainer.style.display = 'none';
            }
        }
        
        // Close suggestions when clicking outside
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.suggestions-container')) {
                document.getElementById('subject-suggestions').style.display = 'none';
                document.getElementById('tag-suggestions').style.display = 'none';
            }
        });
        
        // Update character count
        document.getElementById('generatedPrompt').addEventListener('input', function() {
            updateCharCount();
        });
        
        function updateCharCount() {
            const prompt = document.getElementById('generatedPrompt').value;
            document.getElementById('charCount').textContent = prompt.length;
        }

        // Generate basic prompt
        function generatePrompt() {
            let prompt = document.getElementById('subject').value;
            if (!prompt.trim()) {
                alert('Please enter a main subject for your image');
                return;
            }
            
            // Appearance
            const appearanceFields = ['hair', 'eyes', 'bodyType', 'clothing', 'skin', 'accessories', 'appearanceExtra', 'hairColor', 'eyeColor', 'clothingColor'];
            let appearanceDetails = [];
            appearanceFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) appearanceDetails.push(value);
            });
            if (appearanceDetails.length > 0) {
                prompt += `, ${appearanceDetails.join(', ')}`;
            }
            
            // Pose & Expression
            const poseFields = ['poseType', 'expression', 'bodyLanguage', 'gestures', 'poseExtra'];
            let poseDetails = [];
            poseFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) poseDetails.push(value);
            });
            if (poseDetails.length > 0) {
                prompt += `, ${poseDetails.join(', ')}`;
            }
            
            // Setting
            const settingFields = ['locationType', 'specificLocation', 'timeOfDay', 'weather', 'lighting', 'atmosphere', 'settingExtra'];
            let settingDetails = [];
            settingFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) settingDetails.push(value);
            });
            if (settingDetails.length > 0) {
                prompt += `, ${settingDetails.join(', ')}`;
            }
            
            // NSFW
            if (document.getElementById('nsfwToggle').checked) {
                const nsfwFields = ['nudityLevel', 'nsfwPose', 'focusArea', 'interaction', 'nsfwExtra'];
                let nsfwDetails = [];
                nsfwFields.forEach(field => {
                    const value = document.getElementById(field).value.trim();
                    if (value) nsfwDetails.push(value);
                });
                if (nsfwDetails.length > 0) {
                    prompt += `, ${nsfwDetails.join(', ')}`;
                }
            }
            
            // Style
            const styleFields = ['artStyle', 'artistReference', 'colorPalette', 'texture', 'styleExtra'];
            let styleDetails = [];
            styleFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) styleDetails.push(value);
            });
            if (styleDetails.length > 0) {
                prompt += `, ${styleDetails.join(', ')}`;
            }
            
            // Technical
            const techFields = ['cameraAngle', 'depthOfField', 'resolution', 'aspectRatio', 'filmType', 'lensType'];
            let techDetails = [];
            techFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) techDetails.push(value);
            });
            if (techDetails.length > 0) {
                prompt += `, ${techDetails.join(', ')}`;
            }
            
            // Add tags
            if (tags.length > 0) {
                prompt += `, ${tags.join(', ')}`;
            }
            
            // Add quality tags if none provided
            if (!tags.some(tag => tag.includes('detailed') || tag.includes('high quality') || tag.includes('resolution'))) {
                prompt += ", highly detailed, intricate, professional artwork, stunning composition";
            }
            
            document.getElementById('generatedPrompt').value = prompt;
            updateCharCount();
        }

        // Generate detailed prompt with structure
        function generateDetailedPrompt() {
            let prompt = document.getElementById('subject').value;
            if (!prompt.trim()) {
                alert('Please enter a main subject for your image');
                return;
            }
            
            prompt = `A ${prompt}, `;
            
            // Appearance
            const appearanceFields = ['hair', 'eyes', 'bodyType', 'clothing', 'skin', 'accessories', 'appearanceExtra', 'hairColor', 'eyeColor', 'clothingColor'];
            let appearanceDetails = [];
            appearanceFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) appearanceDetails.push(value);
            });
            if (appearanceDetails.length > 0) {
                prompt += `with ${appearanceDetails.join(', ')}, `;
            }
            
            // Pose & Expression
            const poseFields = ['poseType', 'expression', 'bodyLanguage', 'gestures', 'poseExtra'];
            let poseDetails = [];
            poseFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) poseDetails.push(value);
            });
            if (poseDetails.length > 0) {
                prompt += `${poseDetails.join(', ')}, `;
            }
            
            // Setting
            const settingFields = ['locationType', 'specificLocation', 'timeOfDay', 'weather', 'lighting', 'atmosphere', 'settingExtra'];
            let settingDetails = [];
            settingFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) settingDetails.push(value);
            });
            if (settingDetails.length > 0) {
                prompt += `set in ${settingDetails.join(', ')}, `;
            }
            
            // NSFW
            if (document.getElementById('nsfwToggle').checked) {
                const nsfwFields = ['nudityLevel', 'nsfwPose', 'focusArea', 'interaction', 'nsfwExtra'];
                let nsfwDetails = [];
                nsfwFields.forEach(field => {
                    const value = document.getElementById(field).value.trim();
                    if (value) nsfwDetails.push(value);
                });
                if (nsfwDetails.length > 0) {
                    prompt += `featuring ${nsfwDetails.join(', ')}, `;
                }
            }
            
            // Style
            const styleFields = ['artStyle', 'artistReference', 'colorPalette', 'texture', 'styleExtra'];
            let styleDetails = [];
            styleFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) styleDetails.push(value);
            });
            if (styleDetails.length > 0) {
                prompt += `rendered in ${styleDetails.join(', ')}, `;
            }
            
            // Technical
            const techFields = ['cameraAngle', 'depthOfField', 'resolution', 'aspectRatio', 'filmType', 'lensType'];
            let techDetails = [];
            techFields.forEach(field => {
                const value = document.getElementById(field).value.trim();
                if (value) techDetails.push(value);
            });
            if (techDetails.length > 0) {
                prompt += `using ${techDetails.join(', ')}, `;
            }
            
            // Add tags
            if (tags.length > 0) {
                prompt += `${tags.join(', ')}, `;
            }
            
            // Add quality tags if none provided
            if (!tags.some(tag => tag.includes('detailed') || tag.includes('high quality') || tag.includes('resolution'))) {
                prompt += "highly detailed, intricate, professional artwork, stunning composition, ";
            }
            
            // Remove trailing comma and space
            prompt = prompt.replace(/,\s*$/, "");
            
            document.getElementById('generatedPrompt').value = prompt;
            updateCharCount();
        }

        // Creative reword function to bypass restrictions
        function rewordPrompt() {
            const originalPrompt = document.getElementById('generatedPrompt').value;
            if (!originalPrompt.trim()) {
                alert('Please generate a prompt first');
                return;
            }
            
            let prompt = originalPrompt;
            
            // Creative mode rewording strategies
            if (document.getElementById('creativeToggle').checked) {
                // Replace common restricted terms with creative alternatives
                const replacementMap = {
                    "nude": "artistic nudity",
                    "naked": "unclothed in an artistic manner",
                    "sexy": "aesthetically pleasing",
                    "sexual": "sensual",
                    "erotic": "passionate",
                    "provocative": "thought-provoking",
                    "seductive": "alluring",
                    "fetish": "special interest",
                    "kink": "unique preference",
                    "bdsm": "consensual power exchange",
                    "breasts": "upper torso",
                    "buttocks": "lower back",
                    "genitals": "intimate areas",
                    "penis": "male anatomy",
                    "vagina": "female anatomy"
                }; // Close the replacementMap object
            }
        }
    </script>
</html>